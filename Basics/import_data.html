<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Importing Data</title>
		<link rel="stylesheet" type="text/css" href="../css/base_styles.css">
	</head>
	<body>
	<h1>Adding Data From Different Sources</h1>
	</br>
	<ul id="top">
		<li><a href="#shp">From a Shapefile (*.shp) or GeoJson</a></li>
		<li><a href="#csv">From Delimited Text (*.csv/*.txt)</a></li>
		<li><a href="#fgdb">From a ESRI FileGeoDataBase (*.gdb)</a></li>
		<li><a href="#gpkg">From a GeoPackage (*.gpkg)</a></li>
		<li><a href="#sqldb">From a SQL DataBase </a></li>
		<li><a href="#wms">From a Web Service (WMS,WFS)</a></li>
		<li><a href="#xyz">BaseMaps From a Web Service (XYZ tiles)</a></li>
		<li><a href="#gps">From GPS source (*.GPX)</a></li>
		<li><a href="#kml">From KML source (*.KML)</a></li>
	</ul>
	<br>
	<a href="../Basics/basics.html">Back To Basic Concepts</a><br>
	<a href="..">Back To Homepage</a><br>
	<br>
	<h2 id="shp">Import From ESRI Shapefile (*.shp)</h2>
	<p>
	The easiest way to import data into our workspace is using the <b>Data Source Manager</b> <img src="img/data_source_manager_db0.PNG" height=35px width=35px/>. 
	You can find it on the toolbar below the new project button, or open it using the <kbd>Ctrl</kbd>+<kbd>L</kbd> keyboard shortcut.
	</br><img src="img/import_data_db0.PNG" height=150px width=200px/></br>
	Once the window opens you have a selection of data sources, to load an ESRI Shapefile or GeoJson or any other vector file type,
	just select the <b>Vector</b> data type, the <b>file</b> source type and select your file. 
	Click <kbd class="qgisbtn">Add</kbd>, and you can close the window, and see your layer in the workspace.</br>
	</br><img src="img/import_data_db2.PNG" height=450px width=650/></br></br>
	Another Option is just navigating to the folder using the browser window and dragging the layers from there</br>
	</br><img src="img/import_data_db5.PNG" height=450 width=250/></br></br>
	And thats it, Simple and easy to use, and now you know how to do that in Open Source.
	</br><a href="#top">Go back to the top</a>
	</p>
	</br>
	<h2 id="csv">Import From Delimited Text (*.csv/*.txt)</h2>
	</br>
	<p>To import data from a delimited text file (*.csv in most cases) we first have to open the <b>Data Source Manager</b> <img src="img/data_source_manager_db0.PNG" height=35px width=35px/>. 
		You can find it on the toolbar below the new project button, or open it using the <kbd>Ctrl</kbd>+<kbd>L</kbd> keyboard shortcut.
		</br><img src="img/import_data_db0.PNG" height=150px width=200px/></br>
		Once the window opens you have a selection of data sources, select the <b>Delimited Text</b> option.<br>
		next you will have to choose your file, and the delimiter style it has.<br>
		The default option for delimiter is <b>comma</b>, though you can also choose a custom delimiter such as tabs or spaces.<br>
	</br><img src="img/import_csv_db0.PNG" height=550px width=750/></br>
	</br><img src="img/import_csv_db1.PNG" height=550px width=750/></br></br>
	If your file has <b>X,Y</b> or <b>Latitude, Longitude</b> columns QGIS will most likely identify them to load the file as a point layer.<br>
	The file in the example can be found here: <a href="data/bycode_2.csv">bycode_2.csv</a>. it contains the centroids of all the settlements in Israel.<br>
	The table looks something like this (but has a lot more rows):
	<table><tr>
		<th>code</th>
		<th>X</th>
		<th>Y</th>
	  </tr>
	  <tr>
		<td>967</td>
		<td>20400</td>
		<td>57100</td>
	  </tr>
	  <tr>
		<td>472</td>
		<td>21052</td>
		<td>63481</td>
	  </tr>
	</table><br>
	</br><img src="img/import_csv_db2.PNG" height=550px width=550/></br></br>
	If you want to load <b>Polygons</b> or <b>Lines</b> from a Delimited file they need to be in <a href="https://en.wikipedia.org/wiki/Well-known_text">Well Known Text</a> Format.
	For this example our line geometry is stroed in the <b>geom</b> column. QGIS identifies the column automatically and will detect on its own that we have Line geometry in the column.<br>
	The file in the example can be found here: <a href="data/lines.csv">lines.csv</a>. it contains 5 randomly drawn line geometries.<br>
	The table looks something like this:
	<table><tr>
		<th>fid</th>
		<th>geom</th>
	  </tr>
	  <tr>
		<td>2</td>
		<td>LineString (-0.10774411 -0.30864198, 0.46464646 0.18294052)</td>
	  </tr>
	  <tr>
		<td>3</td>
		<td>LineString (-0.15263749 -0.22109989, 0.41975309 -0.31986532)</td>
	  </tr>
	</table><br>
	</br><img src="img/import_csv_db3.PNG" height=550px width=550/></br></br>
	Click <kbd class="qgisbtn">Add</kbd>, and you can close the window, and see your layer in the workspace.</br>
	And thats it, Simple and easy to use, and now you know how to do that in Open Source.
	</br><a href="#top">Go back to the top</a>
	</p>
	</br>
	<h2 id="fgdb">Import From ESRI FileGeoDataBase (*.gdb)</h2>
	<p>
	You can read data from an ESRI FileGeoDataBase with the base version of QGIS.
	however, if you want to be able to edit and rewrite the layers into the database, you will need the gdal-filegdb driver.
	you can install it using the <a href="">OSGEO4W</a> installer.
	just select to install it like so:</br>
	</br><img src="img/install_gdalfgdb_db0.PNG" height=450px width=650/></br></br>
	The easiest way to import data into our workspace is using the <b>Data Source Manager</b> <img src="img/data_source_manager_db0.PNG" height=35px width=35px/>. 
	You can find it on the toolbar below the new project button, or open it using the <kbd>Ctrl</kbd>+<kbd>L</kbd> keyboard shortcut.
	Once the window opens you have a selection of data sources, to load an ESRI Shapefile or GeoJson or any other vector file type,
	just select the <b>Vector</b> data type, the <b>folder</b> source type and select the <b>.gdb</b> folder. 
	</br><img src="img/import_data_db3.PNG" height=450px width=650/></br></br>
	Once you click the <kbd class="qgisbtn">Add</kbd> button, a second window will open and ask which of the FileGeoDataBase layers you want to import.</br>
	</br><img src="img/import_data_db4.PNG" height=250 width=450/></br></br>
	You can now the close the <b>Data Source Manager</b> window, and see your layers in the workspace.</br>
	Another Option is just navigating to the folder using the browser window and dragging the layers from there</br>
	</br><img src="img/import_data_db5.PNG" height=450 width=250/></br></br>
	And thats it, Simple and easy to use, and now you know how to do that in Open Source.
	</br><a href="#top">Go back to the top</a>
	</p>
	</br>
	<h2 id="gpkg">Import From a GeoPackage (*.gpkg)</h2>
	<p>
	Importing data from a GeoPackage can work in a number of ways, .gpkg files are recognised by QGIS as both a specific file and as the database that they are.  
	That means that a GeoPackage can contain many layers and not just one.
	</p>
	<h3>The Shapefile way</h3>
	<p>
	Just like loading a Shapefile you can import data from a .gpkg file simply by using the <b>Data Source Manager</b> and selecting the file in the Vector data type.
	<img src="img/import_gpkg_db0.PNG" height=450px width=650/>
	</p>
	<h3>The FileGeoDataBase way</h3>
	<p>
	If the GeoPackage you are loading has more than one layer, than after clicking the add button, you will be prompted to select which layers you want to add, just like while importing data from an ESRI FileGeoDataBase.
	<img src="img/import_gpkg_db1.PNG" height=450px width=650/>
	</br><a href="#top">Go back to the top</a>
	</p>
	</br>
	<h2 id="sqldb">Import From a SQL Database</h2>
	<h3>*Why the example uses only PostgreSQL</h3>
	<ol>
		<li>Because QGIS plays very well with PostGIS, which is an extension for PostgreSQL</li>
		<li>Because every section takes time to write, and I have and use PostgreSQL.</li>
		<li>I do plan to add other SQL databases in the future, if you can document them yourself commits are welcome</li>
	</ol>
	<p>
	To import data from an SQL database you will first have to connect to the server hosting the database.<br>
	In the browser you can create a new connection by right-clicking on the server type you want to connect to (in this example we'll use PostgreSQL's PostGIS extension).
	and selecting "New Connection...".
	</br><img src="img/import_sql_db0.png" height=500px width=450px/></br><br>
	Once the new connection window opens you need to name the new connection, usually the database's name is the best choice. 
	Unless your DBA changed the port of the database the port QGIS suggests should work with database of your choice, here you can see that it chose 5432 for PostgreSQL. 
	In this case i added the <b>host : localhost</b> but usually in case your database is on the same machine or netwrok this won't be necessary.
	next you have to add the name of the database you want to connect to, if you are using PostgreSQL you will need to know the name, in MicroSoft SQL Server you can get a list of available databases. 
	If your database is not open to anonymous users you will need to set your username and password under <b>Authentication->Basic</b>, If you won't set them QGIS will ask you to sign in every time you will want to use the data.<br>
	</br><img src="img/import_sql_db1.png" height=650px width=450px/></br><br>
	Once the connection is defined you can add layers and tables from the database by dragging them to the browser or the workspace. <br>
	</br><img src="img/import_sql_db2.png" height=505px width=420px/></br><br>
	And thats it, Simple and easy to use, and now you know how to do that in Open Source.
	</br><a href="#top">Go back to the top</a>
	</p>
	</br>
	<h2 id="wms">Import From a Web Service (WMS,WFS)</h2>
	<p>
	Importing data or tiles from a web service, any type of webservice (WMS, WFS, WCS etc.), can be quite easy when you have the service's URL.
	all you have to do is open the <b>Data Source Manager</b> <img src="img/data_source_manager_db0.PNG" height=35px width=35px/>. 
	You can find it on the toolbar below the new project button, or open it using the <kbd>Ctrl</kbd>+<kbd>L</kbd> keyboard shortcut.
	</br><img src="img/import_data_db0.PNG" height=150px width=200px/></br>
	once the data source manager is opened you can select the type of service you want to add,
	in this example we'll add NASA's Earth Observation (NEO) WMS.</br>
	Select the WMS/WMTS option and click on <b><u>N</u>ew</b>:
	</br><img src="img/import_data_db6.PNG" height=450px width=650/></br>
	The new service window will open, you will notice the window differs very little between different types of services.
	the new window should look like this:
	</br><img src="img/import_data_db7.PNG" height=450px width=650/></br>
	We can just call the new service <b>NASA</b> or <b>NEO</b> 
	and add the URL : <br><code>https://neo.sci.gsfc.nasa.gov/wms/wms</code></br>
	if the service requires a user name or password you can define the configuration under <b>Authentication->Basic</b>,
	if it does not you can click on <b>OK</b> and back in the Data Source Manager click on connect and see all the layers our new service added:
	</br><img src="img/import_data_db8.PNG" height=650px width=900/></br>
	And thats it, Simple and easy to use, and now you know how to do that in Open Source.
	</br><a href="#top">Go back to the top</a>
	</p>
	<p>
		<h3>A Note on ArcGIS Web Services</h3>
		Some ArcGIS Online (AGOL) Services will only work if defined as an <b>ArcGIS Map/Feature Server</b>.</br>
		If your service does not work try defining it as ArcGIS Map/Feature Server instead of regular WMS/WFS.
	</p></br>
	<h3 id="wms-suggestions">Some Open Web Services You Can Add</h3></br>
	<p>
		You are welcome to send suggestions to be added to this list.
		it's just a short list of services i've found and are worth a check.</br>
		Services marked with a star <b>*</b> are ArcGIS Online services.
		<ul>
			<li>WMS<ul>
					<li>NASA Earth Observations (NEO) - https://neo.sci.gsfc.nasa.gov/wms/wms</li>
					<li>USGS Web Map Services - https://lpdaacsvc.cr.usgs.gov/ogc/wms</li>
					<li>USGS 1 Meter Imagery - https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer</li>
					<li>*ESRI World Imagery - https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer</li>
					<li>*ESRI Street Map - https://services.arcgisonline.com/arcgis/rest/services/World_Street_Map/MapServer</li>
					<li>*ESRI World Topo Map (the AGOL basemap) - https://services.arcgisonline.com/arcgis/rest/services/World_Topo_Map/MapServer</li>
					<li>*Israeli Planning Adminitration (iplan) Xplan - https://ags.iplan.gov.il/arcgis/rest/services/PlanningPublic/Xplan/MapServer</li>
			</ul></li>
			<li>WFS<ul>
				<li>US Parks Boundaries - http://gstore.unm.edu/apps/rgis/datasets/7bbe8af5-029b-4adf-b06c-134f0dd57226/services/ogc/wfs?VERSION=1.0.0</li>
				<li>USGS Transportation - https://services.nationalmap.gov/arcgis/rest/services/WFS/structures/MapServer/</li>
				<li>USGS Contours - https://services.nationalmap.gov/arcgis/rest/services/WFS/Contours/MapServer/</li>
				<li>USGS GeoNames - https://services.nationalmap.gov/arcgis/rest/services/WFS/geonames/MapServer</li>
				<li>*Tel Aviv Buildings - https://gisn.tel-aviv.gov.il/arcgis/rest/services/WM/BuildingsWM/MapServer</li>
				<li>*Tel Aviv Urban GIS Map Layers - https://gisn.tel-aviv.gov.il/arcgis/rest/services/WM/IView2MapHebWM/MapServer</li>
			</ul></li>
			<li>WCS<ul>
					<li>USGS Elevation - https://elevation.nationalmap.gov/arcgis/services/3DEPElevation/ImageServer/WCSServer</li>
				</ul></li>
			<li id="xyz-suggestions">XYZ Tiles<ul>
				<li>Carto Positron - https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png</li>
				<li>ESRI Topo Map - https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}</li>
				<li>ESRI World Imagery - https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}</li>
				<li>Google Maps - https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}</li>
				<li>Google Satellite - http://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}</li>
				<li>Google Terrain - https://mt1.google.com/vt/lyrs=t&x={x}&y={y}&z={z}</li>
				<li>OpenStreetMap Black & White - http://{s}.tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png</li>
				<li>Stamen Watercolor - http://c.tile.stamen.com/watercolor/{z}/{x}/{y}.jpg</li>
				<li>Stamen Terrain - http://a.tile.stamen.com/terrain/{z}/{x}/{y}.png</li>
				<li>ThunderForest Spinal Map (requires an API key) - https://tile.thunderforest.com/spinal-map/{z}/{x}/{y}.png?apikey={your API key}</li>
				<li>Waze World - https://worldtiles3.waze.com/tiles/{z}/{x}/{y}.png</li>
			</ul></li>
		</ul>
	</p></br>
	<h2 id="xyz">Add New Basemaps From a Web Service (XYZ tiles)</h2>
	<p>Adding XYZ tiles to use as basemaps is a very short process.
	you just have to right-click on the <b>XYZ Tiles icon in the browser:</b>
	</br><img src="img/xyz0_db.png" height=500px width=450/></br>
	select a name for the tile you want to add, and add add the URL.</br>
	the example below adds the Positron Basemap from CartoDB:
	</br><img src="img/xyz1_db.png" height=450px width=550/></br></br>
	The name I set is "Carto Positron", and the URL for it is: <br>
	<code>https://cartodb-basemaps-a.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png</code></br>
	And thats it, Simple and easy to use, and now you know how to do that in Open Source.</br>
	for a short list of nice XYZ Tiles can be found just above this section, <a href="#xyz-suggestions">here</a>.</br>
	</br><a href="#top">Go back to the top</a>
	</p>
	<br>
	<h2 id="gps">Import From a GPS output file (*.GPX)</h2>
	</br>
	<p>
		missing this one, sorry.
	</br><a href="#top">Go back to the top</a>
	</p>
	<br>
	<h2 id="kml">Import From a KML file (*.KML)</h2>
	</br>
	<p>
		missing this one, sorry.
	</br><a href="#top">Go back to the top</a>
	</p>
	</body>
</html>
